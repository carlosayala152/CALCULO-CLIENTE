<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>ADMIN â€“ SISTEMA DE CORTE PRO</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
}
.container {
  max-width: 900px;
  margin: 40px auto;
  background: #fff;
  padding: 25px;
  border-radius: 10px;
}
h2 {
  margin-bottom: 20px;
}
label {
  font-weight: bold;
}
input, select {
  width: 100%;
  padding: 8px;
  margin-bottom: 10px;
}
button {
  padding: 10px 18px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
.btn-save {
  background: #28a745;
  color: #fff;
}
.btn-new {
  background: #007bff;
  color: #fff;
}
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}
th, td {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: center;
}
th {
  background: #111827;
  color: #fff;
}
</style>
</head>
<body>

<div class="container">
<h2>Cadastro / EdiÃ§Ã£o de LicenÃ§a</h2>

<label>Status</label>
<select id="STATUS">
  <option>ON</option>
  <option>OFF</option>
</select>

<label>Etiquetas</label>
<select id="ETIQUETAS">
  <option>ON</option>
  <option>OFF</option>
</select>

<label>Senha</label>
<input id="SENHA">

<label>Validade</label>
<input id="VALIDADE" type="date">

<label>Cliente</label>
<input id="CLIENTE">

<label>Plano</label>
<select id="PLANO">
  <option>ANUAL</option>
  <option>MENSAL</option>
</select>

<button class="btn-save" onclick="salvar()">ðŸ’¾ SALVAR</button>
<button class="btn-new" onclick="limpar()">âž• NOVO</button>

<h2>LicenÃ§as Cadastradas</h2>
<table>
<thead>
<tr>
<th>Status</th>
<th>Etiquetas</th>
<th>Senha</th>
<th>Validade</th>
<th>Cliente</th>
<th>Plano</th>
</tr>
</thead>
<tbody id="lista"></tbody>
</table>
</div>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbyc80QuLnPdSCdDEM9OoVhCailFEKR4FhFewP7O4cu9NfcJr50Ce663KqMwHIc4OmJD/exec";

function carregar() {
  fetch(API_URL)
    .then(r => r.json())
    .then(d => {
      const tb = document.getElementById("lista");
      tb.innerHTML = "";
      d.forEach(l => {
        tb.innerHTML += `
          <tr>
            <td>${l.STATUS}</td>
            <td>${l.ETIQUETAS}</td>
            <td>${l.SENHA}</td>
            <td>${l.VALIDADE}</td>
            <td>${l.CLIENTE}</td>
            <td>${l.PLANO}</td>
          </tr>`;
      });
    });
}

function salvar() {
  const data = {
    STATUS: STATUS.value,
    ETIQUETAS: ETIQUETAS.value,
    SENHA: SENHA.value,
    VALIDADE: VALIDADE.value,
    CLIENTE: CLIENTE.value,
    PLANO: PLANO.value
  };

  fetch(API_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  }).then(() => {
    limpar();
    carregar();
  });
}

function limpar() {
  SENHA.value = "";
  VALIDADE.value = "";
  CLIENTE.value = "";
}

carregar();
</script>

</body>
</html>
