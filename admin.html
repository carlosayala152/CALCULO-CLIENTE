<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>ADMIN â€” SISTEMA DE CALCULO DE CORTE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;background:#0f172a;color:#fff;font-family:Segoe UI,Arial}
.box{max-width:900px;margin:40px auto;background:#020617;padding:20px;border-radius:12px}
input,button{width:100%;padding:10px;margin-top:8px}
button{background:#10b981;border:none;color:#fff;font-weight:bold;cursor:pointer}
table{width:100%;border-collapse:collapse;background:#fff;color:#000;margin-top:20px}
th,td{border:1px solid #ccc;padding:8px;text-align:center}
th{background:#0f172a;color:#fff}
</style>
</head>
<body>

<div class="box" id="login">
  <h3>Login Admin</h3>
  <input id="senhaAdmin" type="password" placeholder="Senha admin">
  <button onclick="logar()">Entrar</button>
</div>

<div class="box" id="painel" style="display:none">
  <h3>Clientes</h3>
  <table>
    <thead>
      <tr>
        <th>Status</th><th>Cliente</th><th>Senha</th><th>Validade</th><th>Plano</th>
      </tr>
    </thead>
    <tbody id="lista"></tbody>
  </table>
</div>

<script>
const ADMIN_PASS="Amor2403";
const CSV_URL="https://docs.google.com/spreadsheets/d/e/2PACX-1vTuSmsymsS19AqaRjVWOlcRA2FfU4yanFPiTFIvp4_VPyxm3vFF0i0ocZAY7hoe1XzfwP0wslP2dKWR/pub?output=csv";

function logar(){
  if(senhaAdmin.value!==ADMIN_PASS)return alert("Senha incorreta");
  login.style.display="none";
  painel.style.display="block";
  carregar();
}

async function carregar(){
  const r=await fetch(CSV_URL+"&_="+Date.now());
  const t=await r.text();
  const linhas=t.split("\n").slice(1);
  lista.innerHTML="";
  linhas.forEach(l=>{
    const c=l.replace(/\r/g,"").split(",");
    if(c.length>5){
      lista.innerHTML+=`
      <tr>
        <td>${c[0]}</td>
        <td>${c[4]}</td>
        <td>${c[1]}</td>
        <td>${c[2]}</td>
        <td>${c[5]}</td>
      </tr>`;
    }
  });
}
</script>
</body>
</html>
