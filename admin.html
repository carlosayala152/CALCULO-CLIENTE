<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>ADMIN â€“ SISTEMA DE CORTE PRO</title>

<style>
body {
  background:#0b1220;
  color:#fff;
  font-family:Arial;
}
.container {
  max-width:800px;
  margin:auto;
}
input, select, button {
  width:100%;
  padding:10px;
  margin:5px 0;
}
button {
  background:#10b981;
  border:none;
  color:#fff;
  cursor:pointer;
}
table {
  width:100%;
  margin-top:20px;
  border-collapse:collapse;
}
th, td {
  border-bottom:1px solid #333;
  padding:8px;
}
</style>
</head>

<body>
<div class="container">

<h2>Login Admin</h2>
<input type="password" id="senhaAdmin" placeholder="Senha admin">
<button onclick="login()">Entrar</button>

<div id="admin" style="display:none">

<h2>Criar Cliente</h2>

<select id="status">
  <option>ON</option>
  <option>OFF</option>
</select>

<input id="senha" placeholder="Senha">
<input id="validade" type="date">
<input id="cliente" placeholder="Cliente">

<select id="plano">
  <option>MENSAL</option>
  <option>ANUAL</option>
</select>

<select id="etiquetas">
  <option>ON</option>
  <option>OFF</option>
</select>

<button onclick="salvar()">Salvar</button>

<h2>Clientes</h2>
<table>
<thead>
<tr>
<th>Status</th><th>Cliente</th><th>Senha</th>
<th>Validade</th><th>Plano</th><th>Etiquetas</th>
</tr>
</thead>
<tbody id="lista"></tbody>
</table>

</div>
</div>

<script>
const API = "https://script.google.com/macros/s/AKfycbyCrbOwGig1DjFrT0eFNzXzdoHbMR1T93woPby2rxyJgNozhitOcsWY6PTFxQzgFkXxLA/exec";
const SENHA_ADMIN = "1234"; // troque depois

function login() {
  if (document.getElementById("senhaAdmin").value === SENHA_ADMIN) {
    document.getElementById("admin").style.display = "block";
    listar();
  } else {
    alert("Senha incorreta");
  }
}

function salvar() {
  fetch(API + "?action=salvar", {
    method:"POST",
    body: JSON.stringify({
      status: status.value,
      senha: senha.value,
      validade: validade.value,
      cliente: cliente.value,
      plano: plano.value,
      etiquetas: etiquetas.value
    })
  })
  .then(r=>r.json())
  .then(()=>listar());
}

function listar() {
  fetch(API + "?action=listar")
    .then(r=>r.json())
    .then(d=>{
      lista.innerHTML="";
      d.forEach(c=>{
        lista.innerHTML += `
          <tr>
            <td>${c.status}</td>
            <td>${c.cliente}</td>
            <td>${c.senha}</td>
            <td>${c.validade}</td>
            <td>${c.plano}</td>
            <td>${c.etiquetas}</td>
          </tr>`;
      });
    });
}
</script>

</body>
</html>
